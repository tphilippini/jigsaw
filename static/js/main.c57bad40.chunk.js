(this.webpackJsonpjigsaw=this.webpackJsonpjigsaw||[]).push([[0],{20:function(n,t,e){},24:function(n,t,e){"use strict";e.r(t);var o,i,r,c,a,s,l,d,u,b,p=e(0),g=e.n(p),f=e(11),h=e.n(f),j=(e(20),e(3)),x=e(1),m=function(){var n,t,e,o,i=[],r=0,c=function(){for(var n=t.createImageData(e,o),r=new Uint32Array(n.data.buffer),c=r.length,a=0;a<c;a++)Math.random()<.5&&(r[a]=4278190080);i.push(n)},a=function n(){9===r?r=0:r++,t.putImageData(i[r],0,0),window.setTimeout((function(){window.requestAnimationFrame(n)}),40)};return Object(p.useEffect)((function(){n=document.getElementById("noise"),t=n.getContext("2d"),function(){e=window.innerWidth,o=window.innerHeight,n.width=e,n.height=o;for(var t=0;t<10;t++)c();a()}()}),[]),Object(x.jsx)("canvas",{id:"noise"})},O={sea:{backgroundColor:"rgba(107, 202, 226, 0.9)",fontColor:"#ffeed9"},light:{backgroundColor:"rgba(247, 247, 247, 0.99)",fontColor:"rgba(64, 64, 64)"},lilac:{backgroundColor:"rgba(173, 143, 219, 0.9)",fontColor:"#ffeed9"},mint:{backgroundColor:"rgba(111, 220, 191, 0.9)",fontColor:"#ffeed9"},dark:{backgroundColor:"rgba(64, 64, 64, 0.99)",fontColor:"#ffeed9"}},w=Object(p.createContext)(null),v=function(){var n=Object(p.useContext)(w),t=n.theme,e=n.setTheme,o=function(n){n.preventDefault(),t!==n.target.dataset.value&&(e(n.target.dataset.value),localStorage.APP_THEME=n.target.dataset.value)};return Object(x.jsx)("div",{className:"theme-selector",children:Object.keys(O).map((function(n,t){return Object(x.jsx)("div",{className:"btn-color ".concat(n),"data-value":n,onClick:o},t)}))})},k=e(15),y=e(4),C=e(2),I=C.c.div(o||(o=Object(j.a)(["\n  display: inline-block;\n  position: absolute;\n  /* transform: scale(1); */\n  /* opacity: 1; */\n  text-align: center;\n  /* backface-visibility: hidden; */\n  border: 1px solid #ffeed9;\n\n  color: black;\n  font-weight: bold;\n  cursor: pointer;\n"]))),P=function(n){var t=n.width/n.dimension,e=function(t){return{x:t%n.dimension,y:Math.floor(t/n.dimension)}};return Object(x.jsx)(I,{onClick:function(){var t=e(n.value),o=t.x,i=t.y,r=e(n.findEmptyItemIndex()),c=r.x,a=r.y;o!==c&&i!==a||1!==Math.abs(o-c)&&1!==Math.abs(i-a)||n.updateItem(n.value,n.findEmptyItemIndex())},style:function(){var o=e(n.value),i=o.x,r=o.y,c={width:"".concat(t,"px"),height:"".concat(t,"px"),left:"".concat(t*i,"px"),top:"".concat(t*r,"px")};return n.id!==n.dimension*n.dimension-1&&Object.assign(c,function(){var o=e(n.id),i=o.x,r=o.y;return{backgroundImage:"url(".concat("/jigsaw","/images/").concat(n.img,".png)"),backgroundSize:"".concat(n.width,"px ").concat(n.width,"px"),backgroundPosition:"-".concat(t*i,"px -").concat(t*r,"px")}}()),c}()})},z=C.c.div(i||(i=Object(j.a)(["\n  display: block;\n  position: relative;\n  text-align: center;\n  width: calc(100vw - 50px);\n  transition: box-shadow 0.6s ease 0.8s, -webkit-box-shadow 0.6s ease 0.8s;\n  box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),\n    0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2);\n\n  max-width: ",'px;\n\n  &:before {\n    display: block;\n    content: "";\n    width: 100%;\n    padding-top: 100%;\n  }\n'])),(function(n){return Number(n.width)+20})),_=C.c.div(r||(r=Object(j.a)(["\n  position: absolute;\n  top: -25px;\n  width: 100%;\n  text-align: center;\n  color: ",";\n  font-weight: 700;\n  font-size: 13px;\n  cursor: pointer;\n"])),(function(n){return n.theme.fontColor})),E=C.c.div(c||(c=Object(j.a)(["\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n\n  /* Change depends on theme image */\n  background-color: ",";\n  height: ","px;\n"])),(function(n){return n.bgColor}),(function(n){return Number(n.width)+20})),S=C.c.div(a||(a=Object(j.a)(['\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  background-color: #ffeed9;\n\n  &:before {\n    display: block;\n    content: "";\n    width: 100%;\n    padding-top: 100%;\n    padding-left: 1px;\n  }\n']))),N=C.c.div(s||(s=Object(j.a)(['\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  /* width: calc(100% + 4px); */\n  width: 100%;\n\n  transform: translateX(-50%) translateY(-50%);\n\n  &:before {\n    display: block;\n    content: "";\n    width: 100%;\n    padding-top: 100%;\n  }\n']))),M=C.c.div(l||(l=Object(j.a)(['\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n\n  background-position: center center;\n  background-size: cover;\n\n  pointer-events: none;\n  z-index: 9;\n  opacity: 1;\n  transition: opacity 0.6s ease;\n\n  background-image: url("',"/images/",'.png");\n\n  &.hidden {\n    opacity: 0;\n  }\n'])),"/jigsaw",(function(n){return n.img})),A=function(n){var t=Object(p.useState)(!1),e=Object(y.a)(t,2),o=e[0],i=e[1],r=Object(p.useState)([0,1,2,3,4,5,6,7,8,9,10,11,12,13,15,14]),c=Object(y.a)(r,2),a=c[0],s=c[1],l=function(){for(var n=0;n<a.length-1;n++)if(a[n]>a[n+1])return!1;return!0},d=function(n,t){var e=Object(k.a)(a),o=e[n],i=e[t];e.splice(n,1,i),e.splice(t,1,o),s(e)},u=function(){return a.findIndex((function(t){return t===n.dimension*n.dimension-1}))};return Object(p.useEffect)((function(){l()?console.log("Show good job dialog"):console.log("Not good job, try again")}),[l,a]),Object(x.jsxs)(z,{className:"wrapper",width:n.width,children:[Object(x.jsx)(_,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:"VOIR L'ILLUSTRATION"}),Object(x.jsx)(E,{className:"puzzle",width:n.width,bgColor:n.bgColor,children:Object(x.jsxs)(S,{children:[Object(x.jsx)(N,{children:a.map((function(t,e){return Object(x.jsx)(P,{id:t,value:e,img:n.img,width:n.width,dimension:n.dimension,updateItem:d,findEmptyItemIndex:u},t)}))}),Object(x.jsx)(M,{className:o?"":"hidden",img:n.img})]})})]})},T=Object(p.createContext)(null),L=C.c.button(d||(d=Object(j.a)(["\n  display: block;\n  position: absolute;\n  bottom: -28px;\n  left: 50%;\n  width: 160px;\n  height: 56px;\n  margin-left: -80px;\n\n  font-weight: 700;\n  border-radius: 40px;\n  border: transparent;\n  background-color: transparent;\n\n  z-index: 10;\n  cursor: pointer;\n\n  &.close {\n    color: ",";\n    bottom: -60px;\n    font-size: 16px;\n  }\n\n  .puzzle-button__bg {\n    display: none;\n    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  }\n\n  .puzzle-button__content {\n    display: block;\n    position: relative;\n  }\n\n  &:not(.close) {\n    .puzzle-button__bg {\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n\n      border-radius: 28px;\n      background-color: #eaeaea;\n    }\n\n    .puzzle-button__content {\n      letter-spacing: 1px;\n    }\n  }\n"])),(function(n){return n.theme.fontColor})),H=function(){var n=Object(p.useContext)(T),t=n.isPlaying,e=n.setIsPlaying;return Object(x.jsxs)(L,{onClick:function(n){n.preventDefault(),localStorage.APP_IS_PLAYING=!t,e(!t)},className:t?"close":"",children:[Object(x.jsx)("span",{className:"puzzle-button__bg"}),Object(x.jsx)("span",{className:"puzzle-button__content",children:t?"FERMER":"JOUER"})]})},R=C.c.span(u||(u=Object(j.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 5px;\n  height: 20px;\n  font-size: 10px;\n  font-color: ",";\n  width: auto;\n  font-style: italic;\n"])),(function(n){return n.theme.fontColor})),Y=function(){var n=Object(p.useContext)(T).isPlaying;return Object(x.jsxs)("div",{id:"app",children:[Object(x.jsx)(m,{}),Object(x.jsx)(v,{}),Object(x.jsxs)("main",{className:n?"is-playing":"",children:[Object(x.jsx)(A,{dimension:"4",width:"340",bgColor:"#45a3b2",img:"0"}),Object(x.jsx)(H,{})]}),Object(x.jsx)(R,{children:"Source of pictures provided by Yuko Higuchi"})]})},D=Object(C.b)(b||(b=Object(j.a)(["\n  body {\n    background-color: ",";\n    color: ",";\n  }\n\n  .theme-selector {\n    position: absolute;\n    padding: 0.5rem 1rem;\n    top: 0;\n    right: 2rem;\n    border-bottom-right-radius: 1rem;\n    border-bottom-left-radius: 1rem;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n\n    .btn-color {\n      width: 20px;\n      height: 20px;\n      border-radius: 20px;\n      background-color: lightgray;\n      cursor: pointer;\n\n      &.mint {\n        background-color: ","\n      }\n      &.lilac {\n        background-color: ","\n      }\n      &.sea {\n        background-color: ","\n      }\n      &.light {\n        background-color: ","\n      }\n      &.dark {\n        background-color: ","\n      }\n    }\n  }\n"])),(function(n){return n.theme.backgroundColor}),(function(n){return n.theme.fontColor}),O.mint.backgroundColor,O.lilac.backgroundColor,O.sea.backgroundColor,O.light.backgroundColor,O.dark.backgroundColor),G=function(n){var t=n.children,e=Object(p.useState)("sea"),o=Object(y.a)(e,2),i=o[0],r=o[1],c=Object(p.useMemo)((function(){return{theme:i,setTheme:r}}),[i,r]);return Object(p.useEffect)((function(){localStorage.APP_THEME&&r(localStorage.APP_THEME)}),[]),Object(x.jsx)(w.Provider,{value:c,children:Object(x.jsxs)(C.a,{theme:O[c.theme],children:[Object(x.jsx)(D,{}),t]})})},J=function(n){var t=n.children,e=Object(p.useState)(!1),o=Object(y.a)(e,2),i=o[0],r=o[1],c=Object(p.useMemo)((function(){return{isPlaying:i,setIsPlaying:r}}),[i,r]);return Object(p.useEffect)((function(){if(localStorage.APP_IS_PLAYING){var n="true"===localStorage.APP_IS_PLAYING;r(n)}}),[]),Object(x.jsx)(T.Provider,{value:c,children:t})};h.a.render(Object(x.jsx)(g.a.StrictMode,{children:Object(x.jsx)(G,{children:Object(x.jsx)(J,{children:Object(x.jsx)(Y,{})})})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.c57bad40.chunk.js.map